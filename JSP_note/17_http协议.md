### 1.介绍:

HTTP：**H**yper **T**ext **T**ransfer **P**rotocol超文本传输协议。HTTP最大的作用就是确定了请求和响应数据的格式。浏览器发送给服务器的数据：请求报文；服务器返回给浏览器的数据：响应报文。

### 2.请求报文

#### 2.1.在开发者工具中浏览报文源码

![](./images/7Z2ICP+ofM8AAAAAElFTkSuQmCC (282×73).png)

### 3.请求报文的三个部分

![img002.16e080e9.png (701×685)](./images/img002.16e080e9.png)

#### 3.1请求行:

作用：展示当前请求的最基本信息

> POST /dynamic/target.jsp HTTP/1.1

- 请求方式
- 访问地址
- HTTP协议的版本:1.0/1.1

#### 3.2.请求消息头

作用：通过具体的参数对本次请求进行详细的说明

格式：键值对，键和值之间使用冒号隔开

相对比较重要的请求消息头：

| 名称           | 功能                                                 |
| -------------- | ---------------------------------------------------- |
| Host           | 服务器的主机地址                                     |
| Accept         | 声明当前请求能够接受的『媒体类型』                   |
| Referer        | 当前请求来源页面的地址                               |
| Content-Length | 请求体内容的长度                                     |
| Content-Type   | 请求体的内容类型，这一项的具体值是媒体类型中的某一种 |
| Cookie         | 浏览器访问服务器时携带的Cookie数据                   |

#### 3.3.请求体

作用：作为请求的主体，发送数据给服务器。具体来说其实就是POST请求方式下的请求参数。

* 请求体有三种情况:

1.get方式:没有请求体,但是有一个queryString(查询字符串)

2.post方式,有请求体,form data

3.json格式,有请求体,request payload(请求负载)

#### 3.4响应:

响应也有三个部分:1.相应行,2.响应头,3.响应体

1.响应行包括三个信息: 1.协议,2.响应状态码,3.响应状态

2.响应头:包含了服务器的信息,服务器发送给浏览器的信息(内容的媒体类型,编码,内容长度等)

3.响应体,响应的实际内容(比如请求add.html页面时,响应的内容就是<html>......)

### 会话

#### http是无状态的

- 服务器无法区分两次请求是同一个客户端发过来的还是不同的客户端发过来的
- 无状态带来的问题:第一次请求是添加商品,第二次请求时结账;如果这两次请求服务器,服务器无法辨这两个请求
- 通过会话跟踪技术来解决无状态的问题

#### 会话跟踪技术

- 客户端第一次发请求给服务器,服务器获取客户端session获取不到,则创建新的,然后返回给客户端,下次客户端请求时,再携带过来,那么服务器就请求到了session

- 常用的api:

  > request.getSession() ->获取当前会话,,没有,则创建一个新的会话
  >
  > request.getSession(true) -> 效果和不带参数相同
  >
  > request.getSession(false) -> 获取当前会话,没有则返回null,不会创建新的
  >
  > HttpSession session = request.getId()  -> 获取sessionId  -> 获取sessionId
  >
  > session.isNew() -> 判断当前session是否时新的
  >
  > session.getMaxInactiveInterval() -> session的非激活间隔时长,默认1800秒(半小时)
  >
  > session.invalidate(); -> 让会话强制失效







